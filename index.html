<!DOCTYPE html>
<html>
<head>
    <title>Digital Identity Service API</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,700|Roboto:300,400,700" rel="stylesheet">

    <!-- Swagger UI CSS -->
    <link rel="stylesheet" href="https://unpkg.com/swagger-ui-dist/swagger-ui.css">

    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Roboto', sans-serif;
        }

        #view-switcher {
            position: fixed;
            top: 10px;
            right: 10px;
            z-index: 1000;
        }

        .icon-button {
            width: 64px;
            height: 64px;
            cursor: pointer;
            opacity: 1.0;
        }

        #swagger-ui, redoc {
            display: none;
            height: 100vh;
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>

<div id="view-switcher">
    <img src="redocly_logo.svg" alt="Switch to ReDoc" class="icon-button hidden" id="redoc-icon" onclick="showReDoc()" title="Show ReDoc">
    <img src="swagger_logo.svg" alt="Switch to Swagger UI" class="icon-button" id="swagger-icon" onclick="showSwagger()" title="Show Swagger UI">
</div>

<redoc id="redoc-container" spec-url="https://raw.githubusercontent.com/innovatrics/dot-digital-identity-service/master/api/swagger.json"></redoc>
<div id="swagger-ui"></div>

<!-- ReDoc -->
<script src="https://cdn.redoc.ly/redoc/latest/bundles/redoc.standalone.js"></script>

<!-- Swagger UI -->
<script src="https://unpkg.com/swagger-ui-dist/swagger-ui-bundle.js"></script>
<script>
    const specUrl = 'https://raw.githubusercontent.com/innovatrics/dot-digital-identity-service/master/api/swagger.json';

    // Initialize Swagger UI
    const swaggerUI = SwaggerUIBundle({
        url: specUrl,
        dom_id: '#swagger-ui',
        deepLinking: true,
        presets: [
            SwaggerUIBundle.presets.apis,
            SwaggerUIBundle.SwaggerUIStandalonePreset
        ],
    });

    function showReDoc() {
        document.getElementById('redoc-container').style.display = 'block';
        document.getElementById('swagger-ui').style.display = 'none';
        document.getElementById('swagger-icon').classList.remove('hidden');
        document.getElementById('redoc-icon').classList.add('hidden');
    }

    function showSwagger() {
        document.getElementById('redoc-container').style.display = 'none';
        document.getElementById('swagger-ui').style.display = 'block';
        document.getElementById('redoc-icon').classList.remove('hidden');
        document.getElementById('swagger-icon').classList.add('hidden');
    }

    // Default view
    showReDoc();
</script>

</body>
</html>
