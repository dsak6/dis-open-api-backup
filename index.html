<!DOCTYPE html>
<html>
<head>
    <title>Digital Identity Service API</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,700|Roboto:300,400,700" rel="stylesheet">

    <!-- Swagger UI CSS -->
    <link rel="stylesheet" href="https://unpkg.com/swagger-ui-dist/swagger-ui.css">

    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Roboto', sans-serif;
        }

        #view-switcher {
            position: fixed;
            top: 10px;
            right: 10px;
            z-index: 1000;
            display: flex;
            gap: 10px;
        }

        .icon-button {
            width: 32px;
            height: 32px;
            cursor: pointer;
            opacity: 0.6;
            transition: opacity 0.2s ease;
        }

        .icon-button:hover {
            opacity: 1;
        }

        #swagger-ui, redoc {
            display: none;
            height: 100vh;
        }
    </style>
</head>
<body>

<div id="view-switcher">
    <img src="https://redocly.github.io/redoc/favicon.png" alt="ReDoc" class="icon-button" onclick="showReDoc()" title="Show ReDoc">
    <img src="https://swagger.io/img/favicon-32x32.png" alt="Swagger UI" class="icon-button" onclick="showSwagger()" title="Show Swagger UI">
</div>

<redoc id="redoc-container" spec-url="https://raw.githubusercontent.com/innovatrics/dot-digital-identity-service/master/api/swagger.json"></redoc>
<div id="swagger-ui"></div>

<!-- ReDoc -->
<script src="https://cdn.redoc.ly/redoc/latest/bundles/redoc.standalone.js"></script>

<!-- Swagger UI -->
<script src="https://unpkg.com/swagger-ui-dist/swagger-ui-bundle.js"></script>
<script>
    const specUrl = 'https://raw.githubusercontent.com/innovatrics/dot-digital-identity-service/master/api/swagger.json';

    // Initialize Swagger UI
    const swaggerUI = SwaggerUIBundle({
        url: specUrl,
        dom_id: '#swagger-ui',
        deepLinking: true,
        presets: [
            SwaggerUIBundle.presets.apis,
            SwaggerUIBundle.SwaggerUIStandalonePreset
        ],
    });

    function showReDoc() {
        document.getElementById('redoc-container').style.display = 'block';
        document.getElementById('swagger-ui').style.display = 'none';
    }

    function showSwagger() {
        document.getElementById('redoc-container').style.display = 'none';
        document.getElementById('swagger-ui').style.display = 'block';
    }

    // Default view
    showSwagger();
</script>

</body>
</html>
